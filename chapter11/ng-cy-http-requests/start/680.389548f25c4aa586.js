"use strict";(self.webpackChunkng_cy_http_requests=self.webpackChunkng_cy_http_requests||[]).push([[680],{1680:(Y,f,u)=>{u.r(f),u.d(f,{UsersComponent:()=>k});var n=u(4496),I=u(1368),m=u(2152),w=u(1500),C=u(6700),S=u(528),p=u(5448),v=u(7773);function A(r,e){return r===e}var U=u(6928);class b extends U.wH{constructor(e,t){super()}schedule(e,t=0){return this}}const d={setInterval(r,e,...t){const{delegate:s}=d;return s?.setInterval?s.setInterval(r,e,...t):setInterval(r,e,...t)},clearInterval(r){const{delegate:e}=d;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};var R=u(1248);const y={now:()=>(y.delegate||Date).now(),delegate:void 0};class a{constructor(e,t=a.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,s){return new this.schedulerActionCtor(this,e).schedule(s,t)}}a.now=y.now;const T=new class O extends a{constructor(e,t=a.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let s;this._active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}}(class E extends b{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var s;if(this.closed)return this;this.state=e;const i=this.id,l=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(l,i,t)),this.pending=!0,this.delay=t,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(l,this.id,t),this}requestAsyncId(e,t,s=0){return d.setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,t,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return t;null!=t&&d.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,s=!1;try{this.work(e)}catch(l){s=!0,i=l||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:s}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,R.k)(s,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});var B=u(7400);let k=(()=>{class r{constructor(){this.userService=(0,n.uUt)(m.o),this.searchUserInputChange$=new C.g(""),this.searchInput=(0,n.OCB)(""),this.users=(0,n.OCB)([]),this.searchInputEffect=(0,n.o3l)(()=>{this.searchUserInputChange$.next(this.searchInput())})}ngOnInit(){this.searchUserInputChange$.pipe(function x(r,e=S.Z){return r=r??A,(0,p.i)((t,s)=>{let i,l=!0;t.subscribe((0,v.e)(s,c=>{const o=e(c);(l||!r(i,o))&&(l=!1,i=o,s.next(c))}))})}(),function $(r,e=T){return(0,p.i)((t,s)=>{let i=null,l=null,c=null;const o=()=>{if(i){i.unsubscribe(),i=null;const h=l;l=null,s.next(h)}};function V(){const h=c+r,g=e.now();if(g<h)return i=this.schedule(void 0,h-g),void s.add(i);o()}t.subscribe((0,v.e)(s,h=>{l=h,c=e.now(),i||(i=e.schedule(V,r),s.add(i))},()=>{o(),s.complete()},void 0,()=>{l=i=null}))})}(500),(0,B.O)(t=>this.userService.findByTerm(t))).subscribe(t=>{this.users.set(t)})}onSearchValChange(t){this.searchInput.set(t.target.value)}static#e=this.\u0275fac=function(s){return new(s||r)};static#t=this.\u0275cmp=n.In1({type:r,selectors:[["app-users"]],standalone:!0,features:[n.UHJ],decls:11,vars:1,consts:[[1,"relative","flex","mb-8"],["for","Search",1,"sr-only"],["type","text","id","Search","data-test-id","searchUsersInput","placeholder","Search for...",1,"w-full","rounded-md","border-gray-200","py-2.5","pe-10","shadow-sm","sm:text-sm",3,"input"],[1,"absolute","inset-y-0","end-0","right-0","grid","w-10","place-content-center"],["type","button",1,"unset","text-gray-600","hover:text-gray-700"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],[3,"users"]],template:function(s,i){1&s&&(n.I0R(0,"div",0)(1,"label",1),n.OEk(2," Search "),n.C$Y(),n.I0R(3,"input",2),n.qCj("input",function(c){return i.onSearchValChange(c)}),n.C$Y(),n.I0R(4,"span",3)(5,"span",4)(6,"span",5),n.OEk(7,"Search"),n.C$Y(),n.S2Z(),n.I0R(8,"svg",6),n.wR5(9,"path",7),n.C$Y()()()(),n.gRP(),n.wR5(10,"app-users-list",8)),2&s&&(n.yG2(10),n.E7m("users",i.users()))},dependencies:[I.MD,w.Q]})}return r})()}}]);