"use strict";(self.webpackChunkrx_custom_operator=self.webpackChunkrx_custom_operator||[]).push([[448],{68:(W,m,r)=>{r.r(m),r.d(m,{HomeComponent:()=>V});var d=r(368),v=r(928);class C extends v.wH{constructor(t,e){super()}schedule(t,e=0){return this}}const u={setInterval(s,t,...e){const{delegate:n}=u;return n?.setInterval?n.setInterval(s,t,...e):setInterval(s,t,...e)},clearInterval(s){const{delegate:t}=u;return(t?.clearInterval||clearInterval)(s)},delegate:void 0};var y=r(248);const f={now:()=>(f.delegate||Date).now(),delegate:void 0};class l{constructor(t,e=l.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}l.now=f.now;const g=new class P extends l{constructor(t,e=l.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}(class O extends C{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(c,this.id,e),this}requestAsyncId(t,e,n=0){return u.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&u.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let o,n=!1;try{this.work(t)}catch(c){n=!0,o=c||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y.k)(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),M=g;var S=r(252),I=r(48);function h(s=0,t=g){return s<0&&(s=0),function A(s=0,t,e=M){let n=-1;return null!=t&&((0,I.G)(t)?e=t:n=t),new S._(o=>{let c=function b(s){return s instanceof Date&&!isNaN(s)}(s)?+s-e.now():s;c<0&&(c=0);let a=0;return e.schedule(function(){o.closed||(o.next(a++),0<=n?this.schedule(void 0,n):o.complete())},c)})}(s,s,t)}var x=r(267),w=r(560),E=r(960),p=r(624),$=r(496),D=r(448),H=r(773),Y=r(208),G=r(212),i=r(564);function j(s,t){if(1&s&&(i.I0R(0,"div",8),i.OEk(1),i.C$Y()),2&s){const e=t.$implicit;i.yG2(),i.oRS(" ",e," ")}}function T(s,t){if(1&s&&(i.I0R(0,"div",8),i.OEk(1),i.C$Y()),2&s){const e=t.$implicit;i.yG2(),i.oRS(" ",e," ")}}let V=(()=>{class s{constructor(){this.inputStreamData=["john wick","inception","interstellar"],this.outputStreamData=[]}startStream(){this.isStreamActive=!0;const e=h(3e3),n=h(500),o=h(1500);this.streamsOutput$=function k(...s){const t=(0,p.e_)(s),e=(0,p._8)(s,1/0),n=s;return n.length?1===n.length?(0,w.Uv)(n[0]):(0,x.u)(e)((0,$.Q)(n,t)):E.k}(o,e,n).pipe(function R(s,t=!1){return(0,D.i)((e,n)=>{let o=0;e.subscribe((0,H.e)(n,c=>{const a=s(c,o++);(a||t)&&n.next(c),!a&&n.complete()}))})}(()=>this.isStreamActive),(0,Y.K)((c,a)=>[...c,a],[]),t=>t.pipe((0,G.y)(e=>console.log("stream-output",e))))}stopStream(){this.isStreamActive=!1}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275cmp=i.In1({type:s,selectors:[["app-home"]],standalone:!0,features:[i.UHJ],decls:12,vars:6,consts:[[1,"home"],[1,"buttons-container"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-dark",3,"disabled","click"],[1,"cards-container"],[1,"input-stream"],["class","input-stream__item",4,"ngFor","ngForOf"],[1,"output-stream"],[1,"input-stream__item"]],template:function(n,o){1&n&&(i.I0R(0,"div",0)(1,"div",1)(2,"button",2),i.qCj("click",function(){return o.startStream()}),i.OEk(3,"Start Stream"),i.C$Y(),i.I0R(4,"button",3),i.qCj("click",function(){return o.stopStream()}),i.OEk(5,"Stop Stream"),i.C$Y()(),i.I0R(6,"div",4)(7,"div",5),i.yuY(8,j,2,1,"div",6),i.C$Y(),i.I0R(9,"div",7),i.yuY(10,T,2,1,"div",6),i.wVc(11,"async"),i.C$Y()()()),2&n&&(i.yG2(2),i.E7m("disabled",o.isStreamActive),i.yG2(2),i.E7m("disabled",!o.isStreamActive),i.yG2(4),i.E7m("ngForOf",o.inputStreamData),i.yG2(2),i.E7m("ngForOf",i.kDX(11,4,o.streamsOutput$)))},dependencies:[d.MD,d.ay,d.a],styles:[".home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{display:flex}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream[_ngcontent-%COMP%]{margin-right:10px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream[_ngcontent-%COMP%]{margin-left:10px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream[_ngcontent-%COMP%]{flex:1;padding:1.8rem;background-color:#333;min-height:200px;min-width:200px;border-radius:14px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream__item[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream__item[_ngcontent-%COMP%]{color:#90ee90}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;justify-content:center}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.3}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){margin-right:16px}"]})}return s})()}}]);