"use strict";(self.webpackChunkng_async_pipe=self.webpackChunkng_async_pipe||[]).push([[948],{948:(V,m,c)=>{c.r(m),c.d(m,{HomeComponent:()=>T});var d=c(368),v=c(928);class C extends v.wH{constructor(t,n){super()}schedule(t,n=0){return this}}const u={setInterval(i,t,...n){const{delegate:e}=u;return e?.setInterval?e.setInterval(i,t,...n):setInterval(i,t,...n)},clearInterval(i){const{delegate:t}=u;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};var y=c(248);const f={now:()=>(f.delegate||Date).now(),delegate:void 0};class l{constructor(t,n=l.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,e){return new this.schedulerActionCtor(this,t).schedule(e,n)}}l.now=f.now;const p=new class P extends l{constructor(t,n=l.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let e;this._active=!0;do{if(e=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,e){for(;t=n.shift();)t.unsubscribe();throw e}}}(class O extends C{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var e;if(this.closed)return this;this.state=t;const o=this.id,r=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(r,o,n)),this.pending=!0,this.delay=n,this.id=null!==(e=this.id)&&void 0!==e?e:this.requestAsyncId(r,this.id,n),this}requestAsyncId(t,n,e=0){return u.setInterval(t.flush.bind(t,this),e)}recycleAsyncId(t,n,e=0){if(null!=e&&this.delay===e&&!1===this.pending)return n;null!=n&&u.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const e=this._execute(t,n);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,e=!1;try{this.work(t)}catch(r){e=!0,o=r||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:e}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y.k)(e,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),M=p;var S=c(252),I=c(48);function h(i=0,t=p){return i<0&&(i=0),function b(i=0,t,n=M){let e=-1;return null!=t&&((0,I.G)(t)?n=t:e=t),new S._(o=>{let r=function A(i){return i instanceof Date&&!isNaN(i)}(i)?+i-n.now():i;r<0&&(r=0);let a=0;return n.schedule(function(){o.closed||(o.next(a++),0<=e?this.schedule(void 0,e):o.complete())},r)})}(i,i,t)}var x=c(267),w=c(560),E=c(960),g=c(624),$=c(496),D=c(448),H=c(773),Y=c(208),G=c(212),s=c(564);function F(i,t){if(1&i&&(s.I0R(0,"div",8),s.OEk(1),s.C$Y()),2&i){const n=t.$implicit;s.yG2(),s.oRS(" ",n," ")}}function j(i,t){if(1&i&&(s.I0R(0,"div",8),s.OEk(1),s.C$Y()),2&i){const n=t.$implicit;s.yG2(),s.oRS(" ",n," ")}}let T=(()=>{class i{constructor(){this.inputStreamData=["john wick","inception","interstellar"],this.outputStreamData=[]}startStream(){this.isStreamActive=!0;const n=h(3e3),e=h(500),o=h(1500);this.streamsOutput$=function k(...i){const t=(0,g.e_)(i),n=(0,g._8)(i,1/0),e=i;return e.length?1===e.length?(0,w.Uv)(e[0]):(0,x.u)(n)((0,$.Q)(e,t)):E.k}(o,n,e).pipe(function R(i,t=!1){return(0,D.i)((n,e)=>{let o=0;n.subscribe((0,H.e)(e,r=>{const a=i(r,o++);(a||t)&&e.next(r),!a&&e.complete()}))})}(()=>this.isStreamActive),(0,Y.K)((r,a)=>[...r,a],[]),(0,G.y)(r=>console.log("output",r)))}stopStream(){this.isStreamActive=!1}static#t=this.\u0275fac=function(e){return new(e||i)};static#n=this.\u0275cmp=s.In1({type:i,selectors:[["app-home"]],standalone:!0,features:[s.UHJ],decls:12,vars:6,consts:[[1,"home"],[1,"buttons-container"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-dark",3,"disabled","click"],[1,"cards-container"],[1,"input-stream"],["class","input-stream__item",4,"ngFor","ngForOf"],[1,"output-stream"],[1,"input-stream__item"]],template:function(e,o){1&e&&(s.I0R(0,"div",0)(1,"div",1)(2,"button",2),s.qCj("click",function(){return o.startStream()}),s.OEk(3,"Start Stream"),s.C$Y(),s.I0R(4,"button",3),s.qCj("click",function(){return o.stopStream()}),s.OEk(5,"Stop Stream"),s.C$Y()(),s.I0R(6,"div",4)(7,"div",5),s.yuY(8,F,2,1,"div",6),s.C$Y(),s.I0R(9,"div",7),s.yuY(10,j,2,1,"div",6),s.wVc(11,"async"),s.C$Y()()()),2&e&&(s.yG2(2),s.E7m("disabled",o.isStreamActive),s.yG2(2),s.E7m("disabled",!o.isStreamActive),s.yG2(4),s.E7m("ngForOf",o.inputStreamData),s.yG2(2),s.E7m("ngForOf",s.kDX(11,4,o.streamsOutput$)))},dependencies:[d.MD,d.ay,d.a],styles:[".home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{display:flex}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream[_ngcontent-%COMP%]{margin-right:10px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream[_ngcontent-%COMP%]{margin-left:10px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream[_ngcontent-%COMP%]{flex:1;padding:1.8rem;background-color:#333;min-height:200px;min-width:200px;border-radius:14px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream__item[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream__item[_ngcontent-%COMP%]{color:#90ee90}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;justify-content:center}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.3}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){margin-right:16px}"]})}return i})()}}]);